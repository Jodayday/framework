{% extends "base.html" %}

{% block head %}
<title>IT 학습 : 풀이확인</title>
<style>
  .table-body {
    width: 100%;
    table-layout: fixed;
  }

  .lenght-mt {

    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 40%;
  }
</style>
{% endblock %}

{% block body %}

{% if list %}
<table class="table container table-body table-hover">
  <thead class=" align-middle text-center ">
    <tr>
      <th scope="col" style="width: 6%;">번호</th>
      <th scope="col" style="width: 20%">푼사람</th>
      <th scope="col" style="width: 60%">푼 문제</th>
      <th scope="col" style="width: 7%">점수</th>
    </tr>
  </thead>
  <tbody class="align-middle text-center ">
    {% for sol in list.items %}

    <tr onclick="location.href='/check/{{sol.id}}'">

      <th scope="row" class=""> {{sol.id}}</th>
      <td class="lenght-mt">{{sol.user.userid}}</td>
      <td class="lenght-mt">{{sol.problem.title}}</td>
      <td class="lenght-mt">
        {% if sol.check %}
        ⭕
        {% else %}
        {% if sol.check == None %}
        채점요구
        {% else %}
        ❌
        {% endif %}
        {% endif %}
      </td>

    </tr>
    {% endfor %}
  </tbody>
</table>


<!-- 페이징처리 시작 -->
<ul class="pagination justify-content-center">
  <!-- 이전페이지 -->
  {% if list.has_prev %}
  <li class="page-item">
    <a class="page-link" href="?page={{ list.prev_num }}">이전</a>
  </li>
  {% else %}
  <li class="page-item disabled">
    <a class="page-link" tabindex="-1" aria-disabled="true" href="javascript:void(0)">이전</a>
  </li>
  {% endif %}
  {% for page_num in list.iter_pages() %}
  {% if page_num %}
  {% if page_num != list.page %}
  <li class="page-item">
    <a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a>
  </li>
  {% else %}
  <li class="page-item active" aria-current="page">
    <a class="page-link" href="javascript:void(0)">{{ page_num }}</a>
  </li>
  {% endif %}
  {% else %}
  <li class="disabled">
    <a class="page-link" href="javascript:void(0)">...</a>
  </li>
  {% endif %}
  {% endfor %}
  <!-- 다음페이지 -->
  {% if list.has_next %}
  <li class="page-item">
    <a class="page-link" href="?page={{ list.next_num }}">다음</a>
  </li>
  {% else %}
  <li class="page-item disabled">
    <a class="page-link" tabindex="-1" aria-disabled="true" href="javascript:void(0)">다음</a>
  </li>
  {% endif %}
</ul>
<!-- 페이징처리 끝 -->

{% endif %}

{% endblock %}